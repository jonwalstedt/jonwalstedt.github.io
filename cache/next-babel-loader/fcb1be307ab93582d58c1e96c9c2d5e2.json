{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useState } from 'react';\nimport Portal from '../Portal/Portal';\nimport styles from './Banner.module.css';\n\nconst BannerIframeItem = ({\n  iframe\n}) => {\n  const {\n    0: iframeLoaded,\n    1: setIframeLoaded\n  } = useState(false);\n  const handleIframeOnLoad = useCallback(() => {\n    setIframeLoaded(true);\n  }, []);\n  return /*#__PURE__*/_jsx(\"iframe\", {\n    scrolling: \"no\",\n    src: `${iframe}?height=375&theme-id=1709&default-tab=js,result`,\n    frameBorder: \"no\",\n    onLoad: handleIframeOnLoad,\n    style: {\n      opacity: iframeLoaded ? 1 : 0\n    }\n  });\n};\n\nconst BannerImageItem = ({\n  image\n}) => {\n  const {\n    0: imageLoaded,\n    1: setImageLoaded\n  } = useState(false);\n\n  if (image) {\n    const img = new Image();\n    img.src = image;\n\n    img.onload = () => {\n      setImageLoaded(true);\n    };\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.bannerImage,\n    style: {\n      backgroundImage: `url(${image})`,\n      opacity: imageLoaded ? 1 : 0\n    }\n  });\n};\n\nexport const BannerItem = ({\n  image,\n  iframe\n}) => {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.bannerItem,\n    children: [image && /*#__PURE__*/_jsx(BannerImageItem, {\n      image: image\n    }), iframe && /*#__PURE__*/_jsx(BannerIframeItem, {\n      iframe: iframe\n    })]\n  });\n};\n\nconst Banner = ({\n  children\n}) => {\n  const childrenArr = React.Children.toArray(children);\n  const randomIndex = Math.round(Math.random() * (childrenArr.length - 1));\n  return /*#__PURE__*/_jsx(Portal, {\n    selector: \"#banner\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: styles.banner,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: styles.bannerContent,\n        children: childrenArr[randomIndex]\n      })\n    })\n  });\n};\n\nexport default Banner;","map":null,"metadata":{},"sourceType":"module"}